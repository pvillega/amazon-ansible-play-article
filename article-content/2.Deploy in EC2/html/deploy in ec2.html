<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 4.0.2.2 (Linux)">
	<META NAME="AUTHOR" CONTENT="pvillega ">
	<META NAME="CREATED" CONTENT="20130626;8220200">
	<META NAME="CHANGEDBY" CONTENT="pvillega ">
	<META NAME="CHANGED" CONTENT="20130908;18325200">
	<STYLE TYPE="text/css">
	<!--
		@page { margin: 2cm }
		P { margin-bottom: 0.21cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "DejaVu Sans"; font-size: 16pt }
		H1.ctl { font-family: "Lohit Hindi"; font-size: 16pt }
		H2 { margin-bottom: 0.21cm }
		H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Lohit Hindi"; font-size: 14pt; font-style: italic }
		H3 { margin-bottom: 0.21cm }
		H3.western { font-family: "Arial", sans-serif }
		H3.ctl { font-family: "Lohit Hindi" }
		PRE.ctl { font-family: "Lohit Hindi", monospace }
		A:link { so-language: zxx }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-IE" DIR="LTR">
<H1 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Joining
the AWS realm</FONT></H1>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">We finished
the previous chapter with a fully functional application that we are
ready to deploy. </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">This
chapter </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">explains</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
how to use </SPAN></FONT><A HREF="http://www.ansibleworks.com/"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Ansible</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
to deploy the sample application </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">we
just </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">created
in</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">to</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
Amazon EC2. The steps describe both how to deploy the application and
how to configure the AWS components </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">required
to</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
run the application, like </SPAN></FONT><A HREF="http://aws.amazon.com/rds/"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">RDS</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
or </SPAN></FONT><A HREF="http://aws.amazon.com/dynamodb/"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">DynamoDB</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">,
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">via
<A HREF="http://aws.amazon.com/cloudformation/">AWS CloudFormation</A></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">.
</SPAN></FONT>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">If we recover the
sketched project plan we defined at the beginning of the last
chapter, we had some steps to follow:</FONT></P>
<OL>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Setup a
	development environment, including Amazon AWS services you may use</FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Develop the
	code </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Setup a
	staging area (development) in Amazon AWS </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Setup a test
	environment in Amazon AWS </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Setup a
	production environment in Amazon AWS </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Launch the
	application </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Scale it as
	the demand grows </FONT>
	</P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif">Profit!</FONT></P>
</OL>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">This chapter
covers steps 3, 6 and 7. As we mentioned before, steps 3, 4 and 5
follow almost identical steps, which means that this chapter can be
used to deploy additional environments as defined by points 4 and 5.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">We also cover
part of step 1. As it was said at the beginning of last chapter, we
moved all the AWS related steps to this chapter. This includes the
steps to use CloudFormation to configure DynamoDB, which you need to
run the sample application in a development environment.</FONT></P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">In the
following </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">sections</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
we </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">talk
about <A HREF="#2.Using Ansible for deployments|outline">Ansible for
deployments</A>, we </SPAN></FONT><SPAN LANG="en-GB"><A HREF="#3.Explaining the Scripts|outline">explain
the scripts</A> in this example and finally we show how to <A HREF="#4.Deploying the Application|outline">deploy
the application</A> using the scripts.</SPAN></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">Remember that the
scripts are available in <A HREF="https://github.com/pvillega/amazon-ansible-play-article">Github</A>.
They can be downloaded and modified as required to help you deploy
the sample application in EC2.</FONT></P>
<H1 LANG="en-GB" CLASS="western"><A NAME="2.Using Ansible for deployments|outline"></A>
Using Ansible for deployments</H1>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Ansible is
a tool </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">for
</SPAN></FONT><A HREF="http://en.wikipedia.org/wiki/DevOps"><SPAN LANG="en-GB">DevOps</SPAN></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
that allows you </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">to
remotely execute commands in your servers. </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">It
provides a modular system in which you can define individual tasks to
run according to the server role. Ansible complements the scripts
with a thorough API that helps with common operations and a set of
plugins for popular components (Amazon AWS, PostgreSQL, etc.). </SPAN></FONT>
</P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">In this
article we use Ansible v1.3. This version (currently under
development) expands the library of services related to </SPAN></FONT><A HREF="http://www.ansibleworks.com/docs/amazon_web_services.html"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Amazon
A</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">WS</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">.
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">The
new components facilitate new operations like creating an AMI from an
existing EC2 instance, something we need for our project.</SPAN></FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">The aim of the
Ansible scripts is to </FONT><FONT FACE="Times New Roman, serif">automate
the process of creating a </FONT><FONT FACE="Times New Roman, serif">custom
AMI </FONT><FONT FACE="Times New Roman, serif">and using that AMI in
CloudFormation to automate the deployment of the application</FONT><FONT FACE="Times New Roman, serif">.
</FONT><FONT FACE="Times New Roman, serif">The scripts can also be
used  to release upgrades of the given application.</FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Configuring
Ansible</FONT></H2>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Ansible has
minimal requirements; the only piece of software necessary on your
machine to launch Ansible is Python 2.6 (or greater) and a few Python
modules. This facilitates its deployment  in any development or
system administration computer. </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Th</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">e
connection with the servers is established via</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
</SPAN></FONT><A HREF="http://en.wikipedia.org/wiki/Secure_Shell"><SPAN LANG="en-GB">SSH</SPAN></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">,
a common protocol included by default on all Linux machines.</SPAN></FONT></P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Although we
don't explain how to install Ansible in this document, as it depends
on your system and the official website has <A HREF="http://www.ansibleworks.com/docs/gettingstarted.html">excellent
documentation</A>, we want to bring your attention to a couple of
common issues. The first one is that Ansible 1.3 requires the latest
versions of some Python modules, namely </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>boto</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">,
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>PyYAML,</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>Jinja2</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
and </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>paramiko.
</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">Your
local environment may need to be upgraded or you </SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">may
</SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">get
execution errors when running the Ansible </SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">P</SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">laybooks.</SPAN></SPAN></FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">Another
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">possible
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">issue</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
is the management of AWS access keys. Ansible can </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">read</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
the AWS access and secret keys from system environment </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">variables</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">,
but in some cases one of the Python modules used by Ansible, </SPAN></FONT><FONT FACE="Times New Roman, serif"><I>boto</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">,
may not find them. This means that you need to define a few
environment variables in your system before running the scripts:</SPAN></FONT></P>
<TABLE WIDTH=635 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=12>
	<COL WIDTH=615>
	<TR>
		<TD WIDTH=12 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western">1<BR>2
<SPAN LANG="en-GB">3</SPAN>
<SPAN LANG="en-GB">4</SPAN>
<SPAN LANG="en-GB">5</SPAN>
<SPAN LANG="en-GB">6</SPAN></PRE>
		</TD>
		<TD WIDTH=615 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western"><FONT COLOR="#888888"># Exports that may be needed in your system</FONT>
<SPAN LANG="en-GB">export EC2_ACCESS_KEY=&lt;key&gt;<BR>export EC2_SECRET_KEY=&lt;secret_key&gt;<BR>export AWS_ACCESS_KEY_ID=&lt;key&gt;<BR>export AWS_SECRET__ACCESS_KEY=&lt;secret_key&gt;<BR>export BOTO_PATH=~/.boto/boto.cfg</SPAN></PRE>
		</TD>
	</TR>
</TABLE>
<P LANG="en-GB"><BR><BR>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">Lines
2 to 5 define necessary environment variables that contain the AWS
access and secret key. Line 6 defines a variable that points to </SPAN></FONT><FONT FACE="Times New Roman, serif"><I>boto
</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">configuration.
The file follows the format:</SPAN></FONT></P>
<TABLE WIDTH=635 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=12>
	<COL WIDTH=615>
	<TR>
		<TD WIDTH=12 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western">1
<SPAN LANG="en-GB">2</SPAN>
<SPAN LANG="en-GB">3</SPAN>
<SPAN LANG="en-GB">4</SPAN></PRE>
		</TD>
		<TD WIDTH=615 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western"><FONT COLOR="#888888"># BOTO config</FONT>
<SPAN LANG="en-GB">[Credentials]
</SPAN>
<SPAN LANG="en-GB">aws_access_key_id = &lt;key&gt;</SPAN>
<SPAN LANG="en-GB">aws_secret_access_key = &lt;secret_key&gt;
</SPAN></PRE>
		</TD>
	</TR>
</TABLE>
<P LANG="en-GB"><BR><BR>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">and it will be
used by </FONT><FONT FACE="Times New Roman, serif"><I>boto</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
to authenticate Ansible requests against services like S3.</SPAN></FONT></P>
<H3 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Structure
of </FONT><FONT FACE="Times New Roman, serif">Ansible </FONT><FONT FACE="Times New Roman, serif">F</FONT><FONT FACE="Times New Roman, serif">older</FONT></H3>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Ansible</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
uses a series of scripts to define the instructions to run on a given
server. The scripts are called Playbooks and they follow the </SPAN></FONT><A HREF="http://en.wikipedia.org/wiki/YAML"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">YAML</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
format.  </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">The
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><A HREF="https://github.com/pvillega/amazon-ansible-play-article">Github</A>
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">repository
contains the </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Ansible
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Playbooks</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
we use to deploy the sample application. If you explore the folder
you may notice that there is a certain structure in it. The folders
and files are organized following <A HREF="http://www.ansibleworks.com/docs/bestpractices.html">Best
Practices</A> for Ansible. </SPAN></FONT>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">Using best
practices is not just a recommendation but almost a mandatory
requirement. Many Ansible commands (on version 1.2 and onwards)
assume some files will be located in the locations recommended by the
best practices by default. Following these recommendations saves you
time when trying to use these commands, and keeps the Playbooks
nicely organized.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">If you open the
folder with the scripts, you may see the following contents:</FONT></P>
<UL>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>groups_vars</B><SPAN STYLE="font-weight: normal">
	(folder): contains configuration </SPAN><SPAN STYLE="font-weight: normal">variables
	for the Playbooks</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>roles</B><SPAN STYLE="font-weight: normal">
	(folder): contains the role Playbooks, modules with reusable
	functionality</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>webserver_setup.yml:
	</B><SPAN STYLE="font-weight: normal">defines the roles to execute
	when </SPAN><SPAN STYLE="font-weight: normal">creating our custom
	AMI</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>cloudformation_setup.yml:</B><SPAN STYLE="font-weight: normal">
	defines the roles to execute when </SPAN><SPAN STYLE="font-weight: normal">launching
	CloudFormation</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>local.hosts:
	</B><SPAN STYLE="font-weight: normal">a dummy</SPAN><B> </B><SPAN STYLE="font-weight: normal">hosts
	file used to launch our Ansible scripts against AWS.</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><B>Readme.md:
	</B><SPAN STYLE="font-weight: normal">some notes on the contents of
	the folder</SPAN></FONT></P>
	<P LANG="en-GB"></P>
</UL>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">In the root
folder there are two main Playbooks available. One of them is used to
create a custom AMI, while the other launches a CloudFormation group<SPAN STYLE="font-style: normal">.
</SPAN><SPAN STYLE="font-style: normal">T</SPAN><SPAN STYLE="font-style: normal">hese
Playbooks contain a list of </SPAN><I>roles </I><SPAN STYLE="font-style: normal">to
run, in order </SPAN><SPAN STYLE="font-style: normal">of execution</SPAN><SPAN STYLE="font-style: normal">.
The </SPAN><I>roles</I><SPAN STYLE="font-style: normal"> are the ones
doing the real work, while the</SPAN><SPAN STYLE="font-style: normal">
main Playbooks </SPAN><SPAN STYLE="font-style: normal">just list
which ones we trigger. This division makes it very easy to change the
</SPAN><SPAN STYLE="font-style: normal">steps being executed in a
Playbook, by adding or removing roles</SPAN><SPAN STYLE="font-style: normal">.</SPAN></FONT></P>
<P LANG="en-GB"><BR><BR>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">The <I>group_vars
</I><SPAN STYLE="font-style: normal">folder has a file named </SPAN><I>all</I><SPAN STYLE="font-style: normal">.
</SPAN><SPAN STYLE="font-style: normal">This file contains</SPAN><SPAN STYLE="font-style: normal">
</SPAN><SPAN STYLE="font-style: normal">a list of pairs (key: value)
which define variables and values. </SPAN><SPAN STYLE="font-style: normal">These
variables are then used in the Playbooks, replacing each key by its
corresponding value. </SPAN><SPAN STYLE="font-style: normal">This
allows us, for example, to define the version of Play Framework </SPAN><SPAN STYLE="font-style: normal">we
want to install and to change it later on by editing only one
location.</SPAN></FONT></P>
<P LANG="en-GB"><BR><BR>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">The <I>roles</I>
folder contains the different '<I>roles</I>'. A role is a set of
Playbooks, templates and other files that do a specific task in a
server. For example, the '<I>create</I>' role has a list of commands
to <SPAN STYLE="font-style: normal">create an EC2 instance</SPAN>.
This division on roles facilitates reusing tasks across Playbooks,
and we can enable or disable specific tasks for a given Playbook at
any moment with minimal effort.</FONT></P>
<H3 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Ansible
Scripts</FONT></H3>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">A full
description of an Ansible script is outside the scope of this
document, please refer to the <A HREF="http://www.ansibleworks.com/docs/playbooks.html">documentation</A>
for this. This section provides a quick overview of the basics of a
script.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">An Ansible script
is a <A HREF="http://en.wikipedia.org/wiki/YAML">YAML</A> file, which
is plain text and human readable, that contains a set of commands to
execute in the target servers. An example:</FONT></P>
<TABLE WIDTH=1228 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=20>
	<COL WIDTH=1200>
	<TR>
		<TD WIDTH=20 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western"> 1
 <SPAN LANG="en-GB">2</SPAN>
 <SPAN LANG="en-GB">3</SPAN>
 <SPAN LANG="en-GB">4</SPAN>
 <SPAN LANG="en-GB">5</SPAN>
 <SPAN LANG="en-GB">6</SPAN>
 <SPAN LANG="en-GB">7</SPAN>
 <SPAN LANG="en-GB">8</SPAN>
 <SPAN LANG="en-GB">9</SPAN>
<SPAN LANG="en-GB">10</SPAN>
<SPAN LANG="en-GB">11</SPAN></PRE>
		</TD>
		<TD WIDTH=1200 STYLE="border: none; padding: 0cm">
			<PRE LANG="en-GB" CLASS="western"><FONT COLOR="#888888"># Secures an Ubuntu instance. </FONT>
<FONT COLOR="#888888"><SPAN LANG="en-GB">#</SPAN></FONT>
<FONT COLOR="#0e84b5"><SPAN LANG="en-GB"><B>---</B></SPAN></FONT>
<SPAN LANG="en-GB">- name: Update APT package cache</SPAN>
  <SPAN LANG="en-GB">action: apt update_cache=yes</SPAN>

<SPAN LANG="en-GB">- name: Run apt-get upgrade</SPAN>
  <SPAN LANG="en-GB">action: apt upgrade=yes</SPAN>

<SPAN LANG="en-GB">- name: Install fail2ban</SPAN>
  <SPAN LANG="en-GB">action: apt pkg=fail2ban state=installed</SPAN></PRE>
		</TD>
	</TR>
</TABLE>
<P LANG="en-GB"><BR><BR>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">In the sample
above line 3 indicates the start of the script. As you can see, we
have three actions defined by a <I>name</I><SPAN STYLE="font-style: normal">
and the </SPAN><I>action </I><SPAN STYLE="font-style: normal">itself</SPAN><I>.</I><SPAN STYLE="font-style: normal">
The </SPAN><I>name</I><SPAN STYLE="font-style: normal"> is displayed
during the execution of the Playbook, allowing us to know which step
is being run. The </SPAN><I>action</I><SPAN STYLE="font-style: normal">
corresponds to either an Ansible command, using the modules and API
provided by the tool, or a raw command executed via </SPAN><I>SSH</I><SPAN STYLE="font-style: normal">.
</SPAN></FONT>
</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">The steps are run
in order. If none of them fail, the script finishes with a status of
success. If a step fails and we have not opted to ignore errors in
that particular step, then the script will abort and we will be
notified of the error. Having errors in one server may not mean that
the execution will stop in other servers.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">When writing
Playbooks, be aware that Ansible is not atomic. That is, if the
execution of the Playbook fails in a server Ansible doesn't rollback
any step that has been executed in that server. This means that it is
recommended to add steps that can be run multiple times or with
proper safeguards. The script may fail in the middle of execution and
you may need to execute it again on the same server, which results in
some steps being run twice. </FONT>
</P>
<H1 LANG="en-GB" CLASS="western"><A NAME="3.Explaining the Scripts|outline"></A>
Explaining the Scripts</H1>
<P LANG="en-GB">This section gives some details on the Ansible
Playbooks used to create the custom AMI and to execute the
CloudFormation template. We don't explain the code itself, as the
scripts are documented in the source files, but we comment on the
purpose of each script and how it works. 
</P>
<P LANG="en-GB">We have broken the process in two parts (two
Playbooks) for practical reasons. One Playbook is used to create a
custom AMI that contains the web application. The second is used to
configure any required AWS resources and to launch the application.</P>
<P LANG="en-GB">By providing a Playbook to create a custom AMI based
on an initial Ubuntu Linux AMI and the source of the application, we
facilitate reusing the script. We can execute that same Playbook to
create multiple AMI in multiple regions just by changing some
configuration. This allows us to have multiple AMI ready for
deployment, each one with specific settings, with minimal effort.</P>
<P LANG="en-GB">Deploying the system live is another task, bigger in
scope and more costly economically due to all the resources needed in
the cloud (databases, servers, etc. which have an hourly cost). And
it's done  sparingly, only to start specific projects. Thus, it makes
sense to separate this step and provide a single Playbook that
manages it. Again, this will facilitate using the script multiple
times as we can specify the target AMI or the CloudFormation
components for each execution without much effort.</P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">With
this, we can launch our application in AWS just by typing two
commands.</SPAN></FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Creating
a custom AMI</FONT></H2>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">The
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>webserver_setup</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">
Playbook is used to create a custom AMI, based in Ubuntu 13.04, that
is secured against external attacks and contains the web application
ready to be deployed.</SPAN></SPAN></FONT></P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">The
Playbook executes 4 roles for this purpose:</SPAN></SPAN></FONT></P>
<UL>
	<LI><P><B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">create:</SPAN></SPAN></FONT></B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
	this role creates a new EC2 </SPAN></SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I><SPAN STYLE="font-weight: normal">m1.small</SPAN></I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
	instance and connects to it via SSH so the other roles can update it
	as required</SPAN></SPAN></SPAN></FONT></P>
	<LI><P><B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">secure:</SPAN></SPAN></FONT></B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
	this role secures the instance by installing security applications
	and enabling some access restrictions</SPAN></SPAN></SPAN></FONT></P>
	<LI><P><B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">deploy:
	</SPAN></SPAN></FONT></B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">this
	role deploys the sample application to the instance. It uses
	configuration options to decide which version of Play Framework to
	install and where to find the source code, compiles it and deploys
	it in the server</SPAN></SPAN></SPAN></FONT></P>
	<LI><P><B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">saveAMI:</SPAN></SPAN></FONT></B><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
	this role saves the EC2 instance we have configured into a custom
	AMI, so we can create multiple instances with the exact same
	configuration</SPAN></SPAN></SPAN></FONT></P>
</UL>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">You
should not need to modify the scripts, all the relevant configuration
can be set via the Ansible </SPAN></SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I><SPAN STYLE="font-weight: normal">all</SPAN></I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
file, as explained in the next section.</SPAN></SPAN></SPAN></FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">CloudFormation</FONT></H2>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">The
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>cloudformation_setup</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">
Playbook is used to execute a CloudFormation template in AWS and
deploy a full application stack. The advantage of using
CloudFormation is automating most of the process. </SPAN></SPAN></FONT>
</P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">Usually
we would need to define a DynamoDB database, a new MySQL RDS
instance,  AutoScaling, Load Balancing, etc. Lots of steps to be run
manually for each deployment, very time-consuming. Using
CloudFormation we simply define all this in a template which we
execute so that AWS does all the required work for us. It simplifies
the process and makes it easier to apply changes to it.</SPAN></SPAN></FONT></P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">The
Playbook has two requirements. The first is a custom AMI with the web
application to deploy. In this case that is the custom AMI created by
the Playbook described in the previous section, </SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">whose
</SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>id</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">
we can add as a configuration entry.</SPAN></SPAN></FONT></P>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">The
second requirement is the </SPAN></SPAN></FONT><A HREF="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-structure.html"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">CloudFormation
template</SPAN></SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><SPAN STYLE="font-style: normal">
itself. That is a JSON file that describes all the AWS components
required, and that we can customize via some parameters. Ansible
makes this part easy by including a task that allows you to indicate
a template to run and the parameters to provide to the template.</SPAN></SPAN></FONT></P>
<H1 LANG="en-GB" CLASS="western"><A NAME="4.Deploying the Application|outline"></A>
Deploying the Application</H1>
<P LANG="en-GB">This section explains how to run the scripts to
create our custom AMI containing the project created in the previous
article.</P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Configuring
the Scripts</FONT></H2>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">The scripts are
mostly self contained. </FONT><FONT FACE="Times New Roman, serif">This
means that you should not need to modify the Ansible Playbooks
t</FONT><FONT FACE="Times New Roman, serif">hemselves, but there are
some configuration settings to be adjusted for your own deployment.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">The
</SPAN><SPAN STYLE="font-style: normal">first</SPAN><SPAN STYLE="font-style: normal">
step is to </SPAN><SPAN STYLE="font-style: normal">obtain an <A HREF="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">Amazon
KeyPair</A>. This is an important step as without a KeyPair you can't
connect remotely to AWS. The official <A HREF="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">AWS
documentation</A> explains how to obtain a new KeyPair or download an
existing one.</SPAN></FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">Once
you have</SPAN><SPAN STYLE="font-style: normal"> downloaded </SPAN><SPAN STYLE="font-style: normal">the
KeyPair, you </SPAN><SPAN STYLE="font-style: normal">have to modify
</SPAN><SPAN STYLE="font-style: normal">its</SPAN><SPAN STYLE="font-style: normal">
attributes to be read only, and then  add it to </SPAN><SPAN STYLE="font-style: normal">SSH</SPAN><SPAN STYLE="font-style: normal">
via </SPAN><I>ssh-add</I><SPAN STYLE="font-style: normal">:</SPAN></FONT></P>
<P LANG="en-GB">    <FONT FACE="Times New Roman, serif"><I>$ chmod
600 sample-play-aws.pem<BR>    $ ssh-add sample-play-aws.pem</I></FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif">The
next step is to ensure that all the Ansible configuration is as
expected. We have 3 main files to check:</FONT></P>
<UL>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>group_vars/all:</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">
	</SPAN></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">this
	file contains values used across all the Playbooks. Values include
	the AWS region to use for deployment, the name of the KeyPair for
	AWS operations or the version of Play Framework to download. Ensure
	the values are correct before proceeding.</SPAN></SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>roles/</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>deploy</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>/files/</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>start:</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
	</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">this
	is the </SPAN></FONT><FONT FACE="Times New Roman, serif"><I>start</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
	script used to launch the web application. A</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">dd
	the proper values to connect to the RDS db and </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">the
	</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">AWS
	credentials </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">via
	</SPAN></FONT><FONT FACE="Times New Roman, serif"><I>-D</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
	JVM properties. </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">If
	not updated properly, the application won't start.</SPAN></FONT></P>
	<LI><P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>roles/</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>cloudformation</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>/files/</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>PlayFrameworkApp.json</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>:</B></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
	</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">this
	file contains a <A HREF="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-structure.html">CloudFormation
	template</A>. You can edit it to add or remove CloudFormation
	elements from it.</SPAN></FONT></P>
</UL>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">As
a clarification, there is one variable in </SPAN></FONT><FONT FACE="Times New Roman, serif"><I>group_vars/all</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
that can't be updated properly until we run the first step of the
process. That variable is </SPAN></FONT><FONT FACE="Times New Roman, serif"><I>cf_ami</I></FONT><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal">
and points to the AMI created by the first Ansible Playbook. The
value is only relevant when using the CloudFormation Playbook.</SPAN></FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Running
the Scripts</FONT></H2>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">To run the
scripts you need to have Ansible installed. If you have not installed
it yet, please follow the </SPAN></FONT><A HREF="http://www.ansibleworks.com/docs/gettingstarted.html"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">instructions</SPAN></FONT></A><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
corresponding to your development environment. Ansible 1.</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">3</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
is required to run the scripts in this </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">ex</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">ample.
</SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">We
assume that the configuration details, as described above, are
correct.</SPAN></FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">Is at this point
when one sees the advantages of using Ansible versus other systems.
We have to execute only two scripts, corresponding to the two steps:
create a custom AMI and use CloudFormation to deploy the application.
The scripts automate all the process, freeing you from a time
consuming work so you can focus on other tasks.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">To run the first
script, g</FONT><FONT FACE="Times New Roman, serif">o to the folder
where you have deployed your Ansible files and execute the following
command:</FONT></P>
<P LANG="en-GB">    <FONT FACE="Times New Roman, serif"><I>$</I></FONT><FONT FACE="Times New Roman, serif">
</FONT><FONT FACE="Times New Roman, serif"><I>ansible-playbook -i
local.hosts --private-key=</I></FONT><FONT FACE="Times New Roman, serif"><I>&lt;path_to_pem_file&gt;</I></FONT><FONT FACE="Times New Roman, serif"><I>
</I></FONT><FONT FACE="Times New Roman, serif"><I>webserver</I></FONT><FONT FACE="Times New Roman, serif"><I>_setup.yml</I></FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif">This
will launch the Playbooks to create a custom AMI that contains our
application, and it will take several minutes. An example of the
output is:</FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><IMG SRC="deploy%20in%20ec2_html_60a9b5b.jpg" NAME="graphics1" ALIGN=LEFT WIDTH=643 HEIGHT=162 BORDER=0><BR><BR clear="left">
</P>
<P STYLE="font-style: normal"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">Once
the script has run, log into </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">your
<A HREF="https://console.aws.amazon.com/console/home?#">AWS Console</A>
to </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">retrieve
the </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>id</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
of the custom AMI and add it to the configuration file as the value
for the </SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB"><I>cf_ami</I></SPAN></FONT><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">
variable. This tells the CloudFormatio Playbook which AMI to use for
the setup.</SPAN></FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif">To
deploy the application using CloudFormation, execute:</FONT></P>
<P LANG="en-GB">    <FONT FACE="Times New Roman, serif"><I>$</I></FONT><FONT FACE="Times New Roman, serif">
</FONT><FONT FACE="Times New Roman, serif"><I>ansible-playbook -i
local.hosts --private-key=</I></FONT><FONT FACE="Times New Roman, serif"><I>&lt;path_to_pem_file&gt;</I></FONT><FONT FACE="Times New Roman, serif"><I>
cloudformation_setup.yml</I></FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif">The
script launches a CloudFormation stack, which may take several
minutes.</FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">After
running</FONT></H2>
<P><FONT FACE="Times New Roman, serif"><SPAN LANG="en-GB">After
executing the scripts, you can go to your <A HREF="https://console.aws.amazon.com/console/home?#">AWS
Console</A> to verify that all the components have been created. In
particular you may want to visit the <A HREF="https://console.aws.amazon.com/cloudformation/home">CloudFormation
dashboard</A>, where you can see a list of the components Ansible
launched.</SPAN></FONT></P>
<P LANG="en-GB" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif">Having
created an Elastic Load Balancer as part of the process, you can
obtain its public <A HREF="http://aws.amazon.com/articles/1346">Elastic
IP</A>. This allows you to map the balancer to a custom domain via
<A HREF="http://aws.amazon.com/route53/">Route 53</A> or your own DNS
management system.</FONT></P>
<H2 LANG="en-GB" CLASS="western"><FONT FACE="Times New Roman, serif">Testing
the deployment</FONT></H2>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">At this stage we
have deployed the application in EC2 and enabled scaling based on
demand. If we access the application via the custom domain we
associated to our Elastic Load Balancer, we see the main page of the
application:</FONT></P>
<P LANG="en-GB"><BR><BR>
</P>
<H2 LANG="en-GB" CLASS="western"></H2>
<P LANG="en-GB"><IMG SRC="deploy%20in%20ec2_html_m1616ca6c.png" NAME="graphics15" ALIGN=LEFT WIDTH=643 HEIGHT=252 BORDER=0><BR><BR clear="left"><FONT FACE="Times New Roman, serif">To
test the scaling of the application I recommend using <A HREF="http://www.joedog.org/siege-home/">Siege</A>.
Usage of Siege is outside the scope of this document, but you can
find an example in <A HREF="http://www.techrepublic.com/article/test-your-web-server-lay-siege-to-it/5171727">here</A>.</FONT></P>
<P LANG="en-GB"><FONT FACE="Times New Roman, serif">This concludes
the second chapter of the article. At this point we have created a
Play Framework application that interacts with Amazon AWS and we have
deployed this application in Amazon EC2 using Ansible. The next
chapter explains how to deploy the same application in <A HREF="http://aws.amazon.com/elasticbeanstalk/">Elastic
BeanStalk</A>.</FONT></P>
</BODY>
</HTML>
